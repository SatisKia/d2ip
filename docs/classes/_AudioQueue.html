<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<TITLE>D2iPドキュメント</TITLE>
</HEAD>
<BODY>

<P>
<TABLE border="0" width="100%" cellpadding="3" cellspacing="0">
<TR height="100">
<TD bgcolor="#cccccc">
<P><FONT size="+2"><B>クラス _AudioQueue</B></FONT></P>
</TD>
</TR>
</TABLE>
</P>

<P>録音・再生する機能を提供するクラスです。</P>

<P>下記のフレームワークを追加する必要があります。</P>

<P>・AudioToolbox.framework</P>

<P>
<TABLE border="0" width="100%" cellpadding="3" cellspacing="0">
<TR bgcolor="#cccccc">
<TD><FONT size="+2"><B>インスタンスメソッド</B></FONT></TD>
</TR>
</TABLE>
</P>

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>initWithMain:</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (id)<B>initWithMain:</B>(_Main*)m</P>
<P>_AudioQueue オブジェクトを生成します。</P>
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top">m</TD><TD>_Main クラスを継承したクラスオブジェクトを指定します。</TD></TR>
</TABLE>
</P>
<P><B>戻り値：</B><BR>
_AudioQueue オブジェクト</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>setVolume:</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (void)<B>setVolume:</B>(int)volume</P>
<P>音量を設定します。</P>
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top">volume</TD><TD>音量の割合を指定します（0〜100）。</TD></TR>
</TABLE>
</P>
<!--
<P><B>戻り値：</B><BR>
</P>
-->
<P><B>補足説明：</B><BR>
_Main クラスを継承したクラスの _volumeAudioQueue で指定された音量が基準となります。例えば、指定する値が 50 の場合の音量は、_volumeAudioQueue で指定された音量の半分になります。</P>

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>getLevelAverage</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (float)<B>getLevelAverage</B></P>
<P>音量の平均レベルを取得します。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
-->
<P><B>戻り値：</B><BR>
音量の平均レベル。-120（無音時）から 0 の値を返します。</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>getLevelPeak</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (float)<B>getLevelPeak</B></P>
<P>音量の最大レベルを取得します。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
-->
<P><B>戻り値：</B><BR>
音量の最大レベル。-120（無音時）から 0 の値を返します。</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>startInput::</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (BOOL)<B>startInput:</B>(CFURLRef)path <B>:</B>(AudioStreamBasicDescription*)format</P>
<P>録音を開始します。</P>
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top">path</TD><TD>ファイルパス</TD></TR>
<TR><TD valign="top">format</TD><TD>録音するデータフォーマット</TD></TR>
</TABLE>
</P>
<P><B>戻り値：</B><BR>
成功した場合 YES、失敗した場合 NO</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>startOutput:</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (BOOL)<B>startOutput:</B>(CFURLRef)path</P>
<P>再生を開始します。</P>
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top">path</TD><TD>ファイルパス</TD></TR>
</TABLE>
</P>
<P><B>戻り値：</B><BR>
成功した場合 YES、失敗した場合 NO</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>pause</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (void)<B>pause</B></P>
<P>録音・再生を一時停止します。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
<P><B>戻り値：</B><BR>
</P>
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>restart</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (void)<B>restart</B></P>
<P>録音・再生を再開します。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
<P><B>戻り値：</B><BR>
</P>
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>stop</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (void)<B>stop</B></P>
<P>録音・再生を停止します。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
<P><B>戻り値：</B><BR>
</P>
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>isInput</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (BOOL)<B>isInput</B></P>
<P>録音中かどうかチェックします。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
-->
<P><B>戻り値：</B><BR>
録音中の場合 YES、そうでない場合 NO</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>isOutput</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (BOOL)<B>isOutput</B></P>
<P>再生中かどうかチェックします。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
-->
<P><B>戻り値：</B><BR>
再生中の場合 YES、そうでない場合 NO</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="4" height="4"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+1">
<B>isEnd</B>
</FONT></TD></TR>
</TABLE>
</P>
<P>- (BOOL)<B>isEnd</B></P>
<P>再生データの終端に達しているかどうかチェックします。</P>
<!--
<P><B>パラメータ：</B><BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR><TD valign="top"></TD><TD></TD></TR>
</TABLE>
</P>
-->
<P><B>戻り値：</B><BR>
再生データの終端に達している場合 YES、そうでない場合 NO</P>
<!--
<P><B>補足説明：</B><BR>
</P>
-->

</BODY>
</HTML>